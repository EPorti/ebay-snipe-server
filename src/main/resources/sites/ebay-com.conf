include "common"

host = "ebay.com"

login-confirm {

  error-statuses = [
    {
      select: { query: "title" },
      match: "Reset your password",
      status: "change-password-request"
    },
    {
      select: { query: ":root" },
      match: ".*(Security.Measure|Enter verification code:|[Pp]lease enter the verification code|Enter a verification code to continue).*",
      status: "verification-needed"
    },
    {
      select: { query: ":root" },
      match: ".*(Your sign in information is not valid\\.|Your user ID or password is incorrect\\.).*",
      status: "invalid-credentials"
    }
  ]

  warn-statuses = [
    {
      select: { query: "form input[name=hidUrl]", attr: "value" },
      match: "^https?://(signin.ebay.com)?.*my.*ebay.*com.*ws.*eBayISAPI.dll.*My.*eBay.*$|^https?://www.ebay.com.*$",
      invert: true,
      status: "no-ebay-form-link"
    }
  ]
}

bid-form {

  error-statuses = [
    {
      select: { query: "#AreaNavigation .statusDiv" },
      match: ".*Enter.*or more.*",
      status: 8
    },
    {
      select: { query: "#w1-3-_msg" },
      match: "Bidding has ended on this item.",
      status: 9
    },
    {
      select: { query: "#AreaNavigation .statusDiv" },
      match: ".*To enter a higher maximum bid, please enter more than.*",
      status: 13
    },
    {
      select: { query: "#CentralArea .errRed" },
      match: ".*Invalid Item.*",
      status: 14
    },
    {
      select: { query: "head > title" },
      match: ".*Sign in.*",
      status: 18
    }
  ]
}

bid-confirm {

  success-status = {
    select: { query: ":root" },
    match: ".*([Yy]ou're currently the highest bidder|you're the high bidder).*",
    status: 4 // needed but not used
  }

  error-statuses = [
    {
      select: { query: "#AreaNavigation .errtitle" },
      match: ".*You've just been outbid.*",
      status: 3
    }
  ]
}
